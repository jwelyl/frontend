<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KAKAOMAP TEST5</title>
</head>
<body>
    <!-- JavaScript 키	9a4f59a3ef4296f594a75e632ce6dc1d -->
    <!-- 37.501537, 127.039638 -->
    
    <!-- 지도 띄울 영역 -->
    <div id="map" style="width:100%;height:1000px;"></div>

    <!-- 실제 지도 그릴 script 코드 -->
    <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=9a4f59a3ef4296f594a75e632ce6dc1d"></script>

    <!-- 실제 지도 띄우는 코드 -->
    <script>
        let container = document.getElementById("map"); //  지도를 담을 영역의 DOM 레퍼런스
        let mapOption = {
            center: new kakao.maps.LatLng(37.501537, 127.039638),   //  지도의 중심좌표
            level: 3    //  지도의 확대 레벨
        };

        let map = new kakao.maps.Map(container, mapOption); //  지도 생성

        //  지도에 띄울 위치들
        const officePosition = {
            역삼점: { lat: 37.500613, lng: 127.036431 },
            선릉점: { lat: 37.504268, lng: 127.048188 },
            학하점: { lat: 36.35536, lng: 127.298294 },
            봉명점: { lat: 36.358843, lng: 127.344192 },
            연수원점: { lat: 36.098594, lng: 128.38977 },
            구미사업장: { lat: 36.109553, lng: 128.415011 },
            하남산단점: { lat: 35.204279, lng: 126.807198 },
            광주역점: { lat: 35.165476, lng: 126.909216 },
            부산사업장점: { lat: 35.095765, lng: 128.856344 },
            녹산산단점: { lat: 35.093641, lng: 128.855679 },
        };

        let imageSrc = "../assets/img/my_position2.png", // 마커이미지의 주소입니다.    
        imageSize = new kakao.maps.Size(32, 34), // 마커이미지의 크기입니다.
        imageOption = {offset: new kakao.maps.Point(27, 69)}; // 마커이미지의 옵션입니다.

        const keys = Object.keys(officePosition);
        console.log("keys :", keys);
        const size = keys.length;

        for(let i = 0; i < size; i++) {
            let markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize, imageOption);
            let myLatLng = new kakao.maps.LatLng(officePosition[keys[i]].lat, officePosition[keys[i]].lng);
            
            let marker = new kakao.maps.Marker({
                map: map,   //  마커를 표시할 지도
                position: myLatLng, //  마커를 표시할 위치
                title: keys[i], //  마커의 타이틀, 마커에 마우스를 올리면 타이틀이 표시된다.
                image: markerImage //   마커 이미지
            });

            console.log("marker :", marker);
            console.log("key :", keys[i]);
            console.log("title :",  marker.title);
        }

    </script>
</body>
</html>